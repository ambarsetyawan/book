<?php
/*********************************************************************************************************
 * Locale Route
 ********************************************************************************************************/
Route::get('locale/{lang}', ['as' => 'locale.select', 'uses' => 'LocaleController@setLocale']);

/*********************************************************************************************************
 * Auth Routes
 ********************************************************************************************************/
Route::controllers([
    'auth'     => 'AuthController',
    'password' => 'PasswordController',
]);

/*********************************************************************************************************
 * User Profile
 ********************************************************************************************************/
Route::get('profile', 'UserController@profile');

/*********************************************************************************************************
 * Books
 ********************************************************************************************************/
Route::resource('book', 'BookController');

/*********************************************************************************************************
 * Favorites
 *********************************************************************************************************/

/*********************************************************************************************************
 * Comments
 *********************************************************************************************************/

/*********************************************************************************************************
 * Rating
 ********************************************************************************************************/

/*********************************************************************************************************
 * Categories
 ********************************************************************************************************/
Route::resource('category','CategoriesController',['only'=>['index','show']]);

/*********************************************************************************************************
contact-us
 ********************************************************************************************************/
Route::get('/contactus','HomeController@contactus');

/*********************************************************************************************************
 * Dashboard
 ********************************************************************************************************/
Route::get('/', 'HomeController@index');

Route::get('home', 'HomeController@index');

/*********************************************************************************************************
 * Admin Routes
 ********************************************************************************************************/
Route::group(['namespace' => 'Admin', 'prefix' => 'admin', 'before' => ['auth']], function () {

    Route::get('/', 'HomeController@index');

});

Route::get('test', function () {
    $book = App\Src\Book\Book::find(12);
    $event = event(new \App\Events\BookPublished($book));

    dd('a');
});